# Copy this file to a local ".env" (not committed) to customize runs.
#
# Base
BASE_URL=https://sites.google.com/view/lukos-tutoriais/
BROWSER=edge
HEADLESS=true
PAGE_LOAD_TIMEOUT_SECONDS=45
WAIT_TIMEOUT_SECONDS=20

# Politeness / requests
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120 Safari/537.36
REQUEST_TIMEOUT_SECONDS=45
REQUEST_RETRIES=3
REQUEST_BACKOFF_SECONDS=1.0
RESPECT_ROBOTS=true

# Output
DATA_DIR=data
MEDIA_DIR=media

# Mapping / Canonicalization (menu-first)
# - CATEGORY_SOURCE: hierarchy comes from the Google Sites MENU (canonical)
# - TITLE_SOURCE: tutorial title comes from MENU first, then H1/H2, then slug-humanized
# - IGNORE_NON_LEAF_PAGES: do not insert tutorials for nodes that have children (ex.: /PDV/pista)
# - NORMALIZE_MENU_LABELS: normalize menu labels for comparisons (whitespace/encoding quirks)
# - REPORT_MISMATCHES: generate a report of slug/menu/H1 divergences
CATEGORY_SOURCE=menu
TITLE_SOURCE=menu_first
IGNORE_NON_LEAF_PAGES=true
NORMALIZE_MENU_LABELS=true
REPORT_MISMATCHES=true

# SQL Server (choose ONE: trusted connection OR user/password)
SQLSERVER_DRIVER=ODBC Driver 17 for SQL Server
SQLSERVER_SERVER=localhost
SQLSERVER_PORT=1443
SQLSERVER_DATABASE=tutoriaislukos
SQLSERVER_TRUSTED_CONNECTION=false
SQLSERVER_USERNAME=
SQLSERVER_PASSWORD=

# Schema mapping (defaults match the plan; adjust to your real schema if different)
DB_SCHEMA=dbo
TBL_CATEGORIES=Categories
TBL_TUTORIALS=Tutorials
TBL_TUTORIAL_STEPS=TutorialSteps
TBL_MEDIA=Media

# Columns - Categories (Schema real: id, name, slug, ParentId, SortOrder)
COL_CATEGORY_ID=id
COL_CATEGORY_NAME=name
COL_CATEGORY_SLUG=slug
COL_CATEGORY_PARENT_ID=ParentId
COL_CATEGORY_SORT=SortOrder

# Columns - Tutorials (Schema real: id, title, slug, content, CategoryId, CreatedBy, UpdatedBy)
COL_TUTORIAL_ID=id
COL_TUTORIAL_CATEGORY_ID=CategoryId
COL_TUTORIAL_TITLE=title
COL_TUTORIAL_DESCRIPTION=description
COL_TUTORIAL_CONTENT=content
COL_TUTORIAL_SLUG=slug
COL_TUTORIAL_CREATED_BY=CreatedBy
COL_TUTORIAL_UPDATED_BY=UpdatedBy

# Columns - Steps (Schema real: id, TutorialId, title, content, SortOrder)
COL_STEP_ID=id
COL_STEP_TUTORIAL_ID=TutorialId
COL_STEP_TITLE=title
COL_STEP_CONTENT=content
COL_STEP_SORT=SortOrder

# Columns - Media (Schema real: id, FileName, OriginalName, MimeType, size, url, ThumbnailUrl, UploadedBy)
COL_MEDIA_ID=id
COL_MEDIA_FILE_NAME=FileName
COL_MEDIA_ORIGINAL_NAME=OriginalName
COL_MEDIA_MIME_TYPE=MimeType
COL_MEDIA_SIZE=size
COL_MEDIA_URL=url
COL_MEDIA_THUMBNAIL_URL=ThumbnailUrl
COL_MEDIA_UPLOADED_BY=UploadedBy

DOWNLOAD_MAX_WORKERS_PAGES=4    # Ajustar baseado em CPU/rede
DOWNLOAD_MAX_WORKERS_MEDIA=8    # Ajustar baseado em largura de banda
