# Plano Completo de Reestruturação e Modernização

## Fase 1: Limpeza e Organização de Arquivos

### 1.1 Remover arquivos duplicados e obsoletos

- Remover `src/services/authService.js` (duplicado de `src/infrastructure/auth/authService.js`)
- Remover `src/services/__mocks__/authService.mock.js` (já existe em `src/infrastructure/auth/__mocks__/`)
- Remover pastas vazias de teste: `src/components/teste/`, `src/components/Heroteste/`, `src/components/Testecss/`
- Remover arquivos de teste: `src/components/hero-section-demo-1.jsx`, `src/components/Grid`, `src/components/Grid.css`

### 1.2 Organizar dados mockados

- Mover `src/data/` para `src/shared/data/` para melhor organização
- Criar arquivo `src/shared/data/__mocks__/README.md` documentando que são dados apenas para desenvolvimento
- Verificar se há dados mockados em `src/components/data/` e mover para `src/shared/data/`

## Fase 2: Migração de Componentes

### 2.1 Mover componentes restantes de `src/components/` para `src/presentation/components/`

Agrupar por categoria:

- **Layout**: `MobileNav`, `Navbarhero`, `Navtutorial`, `Verticalnav`, `Lukossidebar`
- **Content**: `BlogHeader`, `Blogmenu`, `Blogshowcase`, `Calltoaction`, `Carding`, `CardTutoriais`, `Categoriasdostutoriais`, `categoryData`
- **Features**: `Feature`, `FeatureCard`, `Featureshowcase`, `Herocase`, `Herofeatures`, `Heropreline`, `HeroTutorial`, `HighlightsSection`
- **Tutorials**: `Tutorialcard`, `Tutorialcase`, `TutorialPlayer`, `TutorialPresentation`, `TutorialShowcase`
- **Videos**: `Videoaula`, `Videocase`, `VideoDetail`, `VideoTutorials`
- **UI**: `Searchbar`, `SearchForm`, `InputSearch`, `FixedSearchBar`, `FilterGridPage`, `SpotlightPreview`, `Superhero`
- **Pages/Sections**: `Page`, `Portfolio`, `Portfolio1`, `portfolios`, `Section`, `UISection`, `Erroshowcase`
- **Courses**: `Courses`, `CoursesList`, `OnlineCourse`, `ExerciseCategories`
- **Others**: `Busca`, `Divisor`, `Insights`, `InteractiveLesson`, `Logo`, `PaginaCadastros`, `Playstore`, `Sidebarhome`, `Sidemenushowcase`, `Testimonialshowcase`, `CTA`
- **Data/Utils**: `Dadosdospassos` → mover para `src/shared/data/`

### 2.2 Remover pasta `src/components/` após migração completa

## Fase 3: Atualização de Imports

### 3.1 Atualizar imports nas páginas

Arquivos a atualizar em `src/presentation/pages/public/`:

- `HomePage.js` - 35+ imports de componentes
- `Cadastros.js`, `CadastrosPage.js`
- `CategoriesPage.js`, `Conveniencia.js`, `FaturaWeb.js`, `Lukospos.jsx`, `Pista.js`, `Prevenda.js`
- `PaginaTutorial.js`, `Subcategoria.js`
- `TutorialPage.js`, `VideoTutorialsPage.jsx`, `VideoTutorialDetailPage.jsx`
- `dashboard/GeradorSenha.js`, `dashboard/PrecoCombustivel.js`

### 3.2 Atualizar imports em componentes

- Verificar componentes que importam outros componentes
- Atualizar caminhos relativos corretamente

### 3.3 Atualizar imports em `src/app/App.jsx`

- Verificar se todos os imports estão corretos após migração

## Fase 4: Migração Yup → Zod

### 4.1 Substituir Yup por Zod

Arquivos a atualizar:

- `src/presentation/pages/public/RegisterPage.js`
- `src/presentation/pages/public/ProfilePage.js`
- Qualquer outro arquivo que use Yup

### 4.2 Atualizar imports

- Remover `yup` e `@hookform/resolvers/yup`
- Adicionar `zod` e `@hookform/resolvers/zod`
- Atualizar schemas de validação para usar Zod

### 4.3 Remover Yup do package.json

- Remover `yup` das dependências (já removido anteriormente, verificar)

## Fase 5: Isolamento de Dados Mockados

### 5.1 Verificar e isolar mocks

- Verificar `src/components/data/Tutorials.js` e mover para `src/shared/data/__mocks__/` se for mock
- Verificar `src/data/` - mover para `src/shared/data/` e criar subpasta `__mocks__/` se necessário
- Documentar claramente quais arquivos são mocks apenas para desenvolvimento

### 5.2 Criar flags de ambiente

- Verificar se `VITE_USE_MOCK_DATA` está sendo usado corretamente
- Garantir que mocks só sejam carregados em desenvolvimento

## Fase 6: Limpeza de Código Duplicado

### 6.1 Verificar duplicações

- Buscar imports duplicados em arquivos
- Verificar componentes com funcionalidade similar
- Consolidar código duplicado

### 6.2 Remover código comentado

- Limpar comentários desnecessários
- Remover código morto

## Fase 7: Estrutura de Pastas Final

### 7.1 Organizar estrutura final

```
src/
├── app/                    # Aplicação principal
│   ├── App.jsx
│   └── providers.jsx
├── presentation/           # Camada de apresentação
│   ├── components/         # Todos os componentes UI
│   └── pages/              # Todas as páginas
├── infrastructure/         # Configurações e serviços
│   ├── api/
│   ├── auth/
│   └── config/
├── shared/                 # Compartilhado
│   ├── constants/
│   ├── data/               # Dados (com __mocks__)
│   └── utils/
├── contexts/               # Contextos React
├── hooks/                  # Hooks customizados
└── domain/                 # Entidades de domínio (se necessário)
```

### 7.2 Verificar se todas as pastas estão corretas

## Fase 8: Testes e Validação

### 8.1 Verificar erros de lint

- Executar linter em todos os arquivos modificados
- Corrigir erros encontrados

### 8.2 Verificar imports quebrados

- Buscar por imports que não resolvem
- Corrigir caminhos incorretos

### 8.3 Validar estrutura

- Garantir que não há arquivos órfãos
- Verificar que todos os componentes estão acessíveis

## Fase 9: Documentação

### 9.1 Atualizar README se necessário

- Documentar nova estrutura de pastas
- Explicar arquitetura em camadas

## Ordem de Execução

1. Fase 1 (Limpeza) - Remove duplicações e obsoletos
2. Fase 2 (Migração) - Move componentes para nova estrutura
3. Fase 5 (Dados) - Organiza dados mockados
4. Fase 3 (Imports) - Atualiza todos os imports
5. Fase 4 (Zod) - Migra validações
6. Fase 6 (Duplicações) - Remove código duplicado
7. Fase 7 (Estrutura) - Valida estrutura final
8. Fase 8 (Testes) - Verifica erros
9. Fase 9 (Docs) - Documenta mudanças

## Notas Importantes

- **Nunca duplicar código**: Consolidar funcionalidades similares
- **Manter simples**: Não criar complexidade desnecessária
- **Mocks isolados**: Todos os dados mockados devem estar claramente marcados e isolados
- **Testes removidos**: Garantir que arquivos de teste não estejam em produção
- **DRY**: Uma única fonte de verdade para cada funcionalidade